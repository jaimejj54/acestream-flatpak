import{M as Mn,N as Bn,O as Nn,P as Ln,Q as jn,S as zn,T as Fn,F as Bt,U as Un,V as Hn,W as Gn,X as qn,Y as Wn,Z as Kn,$ as Xn,a0 as bt,a1 as Yn,a2 as Zn,a3 as Jn,a4 as Qn,a5 as es,a6 as ts,a7 as ns,a8 as ss,a9 as as,aa as is,c as f,K as yn,G as R,y as _,m as V,p as k,ab as os,ac as rs,ad as ls,ae as us,af as cs,ag as ds,I as we,q as X,ah as vs,ai as fs,aj as ps,ak as ms,al as hs,am as ys,an as gs,ao as bs,ap as ks,aq as Ss,ar as _s,as as ws,at as Ps,au as xs,h as Cs,g as Es,av as Ts,aw as Nt,ax as Ds,ay as As,az as Os,aA as Rs,aB as Is,aC as Vs,aD as $s,aE as Ms,aF as Bs,aG as Ns,aH as Ls,aI as js,aJ as zs,aK as Fs,aL as Us,aM as Hs,aN as Gs,aO as qs,aP as Lt,n as jt,aQ as xe,aR as zt,aS as St,aT as Ws,aU as Ks,aV as Xs,aW as Ys,aX as Zs,aY as Js,o as tt,aZ as Qs,a_ as ea,e as ta,a$ as na,j as sa,b0 as aa,l as v,A as Ft,b1 as ia,b2 as oa,z as Ut,b3 as ra,b4 as la,b5 as ua,r as $,b6 as ca,b7 as da,v as Ht,b8 as _t,k as ve,b9 as Gt,ba as qt,bb as va,bc as fa,bd as pa,be as ma,bf as ha,bg as ya,bh as ga,bi as ba,bj as ka,bk as Sa,bl as _a,t as H,bm as wa,bn as Pa,bo as xa,bp as Ca,bq as Ea,br as Ta,bs as Da,bt as Aa,f as Pe,bu as Oa,bv as Ra,bw as Ia,bx as Va,by as $a,bz as Ma,bA as Ba,bB as Na,bC as La,bD as ja,bE as za,bF as Fa,bG as gn,bH as Ua,bI as Ha,w as lt,bJ as Ga,bK as qa,bL as Wa,bM as Ka,H as q,bN as Xa,bO as Te,bP as Ya,bQ as Za,s as Be,bR as Ja,d as Qa,u as Wt,a as ei,b as ti,_ as Ie,bS as kt,i as ni,E as si,bT as ai,C as ii,D as oi,bU as ri,B as li,R as ui,J as ci,L as di}from"./_plugin-vue_export-helper.js";function Pr(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vi=()=>{},fi=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Mn,BaseTransitionPropsValidators:Bn,Comment:Nn,DeprecationTypes:Ln,EffectScope:jn,ErrorCodes:zn,ErrorTypeStrings:Fn,Fragment:Bt,KeepAlive:Un,ReactiveEffect:Hn,Static:Gn,Suspense:qn,Teleport:Wn,Text:Kn,TrackOpTypes:Xn,Transition:bt,TransitionGroup:Yn,TriggerOpTypes:Zn,VueElement:Jn,assertNumber:Qn,callWithAsyncErrorHandling:es,callWithErrorHandling:ts,camelize:ns,capitalize:ss,cloneVNode:as,compatUtils:is,compile:vi,computed:f,createApp:yn,createBlock:R,createCommentVNode:_,createElementBlock:V,createElementVNode:k,createHydrationRenderer:os,createPropsRestProxy:rs,createRenderer:ls,createSSRApp:us,createSlots:cs,createStaticVNode:ds,createTextVNode:we,createVNode:X,customRef:vs,defineAsyncComponent:fs,defineComponent:ps,defineCustomElement:ms,defineEmits:hs,defineExpose:ys,defineModel:gs,defineOptions:bs,defineProps:ks,defineSSRCustomElement:Ss,defineSlots:_s,devtools:ws,effect:Ps,effectScope:xs,getCurrentInstance:Cs,getCurrentScope:Es,getTransitionRawChildren:Ts,guardReactiveProps:Nt,h:Ds,handleError:As,hasInjectionContext:Os,hydrate:Rs,initCustomFormatter:Is,initDirectivesForSSR:Vs,inject:$s,isMemoSame:Ms,isProxy:Bs,isReactive:Ns,isReadonly:Ls,isRef:js,isRuntimeOnly:zs,isShallow:Fs,isVNode:Us,markRaw:Hs,mergeDefaults:Gs,mergeModels:qs,mergeProps:Lt,nextTick:jt,normalizeClass:xe,normalizeProps:zt,normalizeStyle:St,onActivated:Ws,onBeforeMount:Ks,onBeforeUnmount:Xs,onBeforeUpdate:Ys,onDeactivated:Zs,onErrorCaptured:Js,onMounted:tt,onRenderTracked:Qs,onRenderTriggered:ea,onScopeDispose:ta,onServerPrefetch:na,onUnmounted:sa,onUpdated:aa,openBlock:v,popScopeId:Ft,provide:ia,proxyRefs:oa,pushScopeId:Ut,queuePostFlushCb:ra,reactive:la,readonly:ua,ref:$,registerRuntimeCompiler:ca,render:da,renderList:Ht,renderSlot:_t,resolveComponent:ve,resolveDirective:Gt,resolveDynamicComponent:qt,resolveFilter:va,resolveTransitionHooks:fa,setBlockTracking:pa,setDevtoolsHook:ma,setTransitionHooks:ha,shallowReactive:ya,shallowReadonly:ga,shallowRef:ba,ssrContextKey:ka,ssrUtils:Sa,stop:_a,toDisplayString:H,toHandlerKey:wa,toHandlers:Pa,toRaw:xa,toRef:Ca,toRefs:Ea,toValue:Ta,transformVNodeArgs:Da,triggerRef:Aa,unref:Pe,useAttrs:Oa,useCssModule:Ra,useCssVars:Ia,useModel:Va,useSSRContext:$a,useSlots:Ma,useTransitionState:Ba,vModelCheckbox:Na,vModelDynamic:La,vModelRadio:ja,vModelSelect:za,vModelText:Fa,vShow:gn,version:Ua,warn:Ha,watch:lt,watchEffect:Ga,watchPostEffect:qa,watchSyncEffect:Wa,withAsyncContext:Ka,withCtx:q,withDefaults:Xa,withDirectives:Te,withKeys:Ya,withMemo:Za,withModifiers:Be,withScopeId:Ja},Symbol.toStringTag,{value:"Module"})),pi=10,mi=3e3,hi=2500,yi=12500;function gi(h,d={}){return JSON.stringify({jsonrpc:"2.0",method:h,params:d})}class bi{constructor({address:d,onConnected:y,onDisconnected:c,onError:T,onMessage:w,onPlayerState:P,onEngineState:u,onDeviceInfo:m,onPlaybackStopped:p,onConnectionGiveUp:i,onEngineSessionStopped:g}){this.address=d,this.ws=null,this.connected=!1,this.onConnected=y,this.onDisconnected=c,this.onError=T,this.onMessage=w,this.onPlayerState=P,this.onEngineState=u,this.onDeviceInfo=m,this.onPlaybackStopped=p,this.onConnectionGiveUp=i,this.onEngineSessionStopped=g,this.errors=0,this.pingTimer=null,this.lastSeenAlive=0}resetErrors(){this.errors=0}setSeenAlive(){this.lastSeenAlive=Date.now()}startPing(){this.pingTimer&&clearInterval(this.pingTimer),this.pingTimer=setInterval(()=>{if(this.lastSeenAlive>0&&Date.now()-this.lastSeenAlive>=yi){console.log("connection timeout"),this.stopPing(),setTimeout(()=>{this.reconnectSocket()},100);return}this.ping()},hi)}stopPing(){this.pingTimer&&clearInterval(this.pingTimer)}connect(){try{this.ws=new WebSocket("ws://".concat(this.address)),this.ws.addEventListener("open",this._onOpen.bind(this)),this.ws.addEventListener("close",this._onClose.bind(this)),this.ws.addEventListener("message",this._onMessage.bind(this))}catch(d){console.error("Failed to create websocket: ".concat(d)),this.onConnectionGiveUp()}}disconnectSocket(){this.ws.removeEventListener("open",this._onOpen),this.ws.removeEventListener("close",this._onClose),this.ws.removeEventListener("message",this._onMessage),this.ws=null,this._onClose()}reconnectSocket(){this.disconnectSocket(),this.connect()}_onOpen(){console.log("ws open"),this.connected=!0,this.resetErrors(),this.onConnected&&this.onConnected(),this.hello(),this.setSeenAlive(),this.startPing()}_onClose(){console.log("ws close: errors=".concat(this.errors)),this.connected=!1,this.onDisconnected&&this.onDisconnected(),this.stopPing(),this.errors<pi?(this.errors+=1,setTimeout(()=>{this.connect()},mi)):this.onConnectionGiveUp()}_onDeviceInfo(d){this.version=d.version,this.deviceId=d.deviceId,this.notifyDeviceInfo(d)}_onMessage(d){this.setSeenAlive();const y=JSON.parse(d.data);switch(y.method){case"playerStatus":{const c=y.params;typeof c.playlistState=="string"&&(c.playlistState=JSON.parse(c.playlistState)),this.notifyPlayerState(c);break}case"engineStatus":{const c=y.params;typeof c.status=="string"&&(c.status=JSON.parse(c.status)),this.notifyEngineState(c);break}case"playbackStartFailed":this.notifyError(y.params.error);break;case"pong":this.lastPongReceived=Date.now(),this._onDeviceInfo(y.params);break;case"hello":this._onDeviceInfo(y.params);break;case"playerClosed":case"quit":this.notifyPlaybackStopped();break;case"engineSessionStopped":this.notifyEngineSessionStopped();break;default:console.log("ws message",d.data),this.notifyMessage(y);break}}notifyPlaybackStopped(){this.onPlaybackStopped&&this.onPlaybackStopped()}notifyEngineSessionStopped(){this.onEngineSessionStopped&&this.onEngineSessionStopped()}notifyPlayerState(d){this.onPlayerState&&this.onPlayerState(d)}notifyEngineState(d){this.onEngineState&&this.onEngineState(d)}notifyMessage(d){this.onMessage&&this.onMessage(d)}notifyError(d){this.onError&&this.onError(d)}notifyDeviceInfo(d){this.onDeviceInfo&&this.onDeviceInfo(d)}sendMessage(d,y={}){if(!this.connected)throw new Error("not connected");this.ws.send(gi(d,y))}isConnected(){return this.connected}ping(){this.lastPingSent=Date.now(),this.sendMessage("ping")}hello(){this.sendMessage("hello")}startPlayback(d){this.sendMessage("startPlayback",{uri:d})}startPlaybackFile(d){this.sendMessage("startPlayback",{transportFileData:d})}play(){this.sendMessage("play")}pause(){this.sendMessage("pause")}stop(){this.sendMessage("stop",{disconnect:!0})}disconnect(){this.sendMessage("quit")}setVolume({volume:d}){d=parseInt(d),this.sendMessage("setVolume",{value:d})}mute({muted:d}){this.sendMessage("setMute",{value:d})}setRate({rate:d}){this.sendMessage("setRate",{value:d})}seekTo({time:d}){this.sendMessage("setTime",{value:d})}goLive(){this.liveSeek(-1)}liveSeek({position:d}){this.sendMessage("liveSeek",{value:d})}setVideoSize({value:d}){this.sendMessage("setVideoSize",{value:d})}setAudioTrack({trackId:d}){this.sendMessage("setAudioTrack",{trackId:d})}setSpuTrack({trackId:d}){this.sendMessage("setSpuTrack",{trackId:d})}playIndex({index:d}){this.sendMessage("playIndex",{index:d})}previous(){this.sendMessage("previous")}next(){this.sendMessage("next")}}const ki=(h,d,y)=>{const c=$(null),T=$(!1),w=$(!1),P=$(!1),u=$(!1),m=$(null),p=$(null),i=$(null),g=$(0),N=$(null),S=$(!1),D=f(()=>g.value>=301810100),J=$({}),W=$({}),ce=f(()=>({playerState:{locale:"en",isTaskRoot:!1,isTv:!1,local:null,chromecast:null,playerStopped:u.value,acecast:{...J.value,engineStatus:W.value}}}));async function oe({onConnected:o}={}){var x;try{if(c.value){console.log("client already created"),o&&T.value&&o();return}let Y=!1;m.value="".concat(h.value,":").concat(d.value),i.value=h.value,c.value=new bi({address:m.value,onConnected:()=>{T.value=!0,o&&!Y&&(o(),Y=!0)},onDisconnected:()=>{T.value=!1,w.value=!1,P.value=!1},onPlaybackStopped:()=>{w.value=!1,P.value=!1,u.value=!0,J.value={},W.value={}},onEngineSessionStopped:()=>{W.value={}},onPlayerState:I=>j(I),onEngineState:I=>ye(I),onError:y,onDeviceInfo:I=>Ce(I),onConnectionGiveUp:()=>S.value=!0}),c.value.connect()}catch(Y){const I=((x=Y.response)==null?void 0:x.data)||Y.message;y(I)}}function j(o){var x,Y;J.value={pausable:!0,seekable:!0,playbackState:o.state,live:-1,videoTracks:[],audioTracks:o.audioTracks,spuTracks:o.spuTracks,videoTrack:-2,audioTrack:(x=o.selectedAudioTrack)!=null?x:-2,spuTrack:(Y=o.spuTrack)!=null?Y:-2,time:o.time,duration:o.duration,volume:o.volume,hasVolume:D.value,muted:o.volume==0,rate:o.rate,engineStatus:null,engineSession:null,device:{provider:"acecast",name:p.value},videoSize:o.videoSize,remoteInternalPlaylistState:o.playlistState},w.value=!0,P.value=!1,u.value=!1}function ye(o){W.value=o.status,w.value=!0,P.value=!1,u.value=!1}function Ce(o){g.value=o.version,N.value=o.deviceId,p.value=o.deviceName}function Se({uri:o,transportFileData:x}={}){if(!c.value)throw new Error("not connected");if(P.value=!0,o)c.value.startPlayback(o);else if(x)c.value.startPlaybackFile(x);else throw new Error("Missing both URI and file data")}return{isConnected:T,isPlaying:w,startingPlayback:P,acecastEndpoint:m,deviceName:p,deviceAddress:i,connect:oe,startPlayback:Se,playbackSessionState:ce,client:c,connectionFailed:S}},Kt=Qa("main",()=>{const h=Wt(),d=f(()=>{var u,m;return(m=(u=window.AceStreamConfig)==null?void 0:u.host)!=null?m:window.location.hostname}),y=f(()=>{var u,m,p;return(p=(m=(u=window.AceStreamConfig)==null?void 0:u.httpPort)!=null?m:h.query.engineHttpPort)!=null?p:6878}),c=f(()=>{var u,m;return(m=(u=window.AceStreamConfig)==null?void 0:u.apiAccessToken)!=null?m:""}),T=f(()=>h.query.host),w=f(()=>h.query.websocketPort);function P(u){console.error("Error: ".concat(u))}return{...ei(),...ti(),...ki(T,w,P),engineHost:d,enginePort:y,engineApiAccessToken:c}});var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _i(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function wi(h){if(h.__esModule)return h;var d=h.default;if(typeof d=="function"){var y=function c(){return this instanceof c?Reflect.construct(d,arguments,this.constructor):d.apply(this,arguments)};y.prototype=d.prototype}else y={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.keys(h).forEach(function(c){var T=Object.getOwnPropertyDescriptor(h,c);Object.defineProperty(y,c,T.get?T:{enumerable:!0,get:function(){return h[c]}})}),y}var bn={exports:{}};const Pi=wi(fi);(function(h,d){(function(y,c){h.exports=c(Pi)})(typeof self<"u"?self:Si,function(y){return function(){var c={388:function(u,m){var p,i,g;(function(N,S){i=[],p=S,g=typeof p=="function"?p.apply(m,i):p,g===void 0||(u.exports=g)})(typeof self<"u"&&self,function(){function N(){var S=Object.getOwnPropertyDescriptor(document,"currentScript");if(!S&&"currentScript"in document&&document.currentScript||S&&S.get!==N&&document.currentScript)return document.currentScript;try{throw new Error}catch(Y){var D,J,W,ce=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,oe=/@([^@]*):(\d+):(\d+)\s*$/gi,j=ce.exec(Y.stack)||oe.exec(Y.stack),ye=j&&j[1]||!1,Ce=j&&j[2]||!1,Se=document.location.href.replace(document.location.hash,""),o=document.getElementsByTagName("script");ye===Se&&(D=document.documentElement.outerHTML,J=new RegExp("(?:[^\\n]+?\\n){0,"+(Ce-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),W=D.replace(J,"$1").trim());for(var x=0;x<o.length;x++)if(o[x].readyState==="interactive"||o[x].src===ye||ye===Se&&o[x].innerHTML&&o[x].innerHTML.trim()===W)return o[x];return null}}return N})},905:function(u,m,p){p.r(m);var i=p(117),g=p.n(i),N=p(488),S=p.n(N),D=S()(g());D.push([u.id,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),m.default=D},121:function(u,m,p){p.r(m);var i=p(117),g=p.n(i),N=p(488),S=p.n(N),D=S()(g());D.push([u.id,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),m.default=D},207:function(u,m,p){p.r(m);var i=p(117),g=p.n(i),N=p(488),S=p.n(N),D=S()(g());D.push([u.id,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),m.default=D},488:function(u){u.exports=function(m){var p=[];return p.toString=function(){return this.map(function(i){var g="",N=typeof i[5]<"u";return i[4]&&(g+="@supports (".concat(i[4],") {")),i[2]&&(g+="@media ".concat(i[2]," {")),N&&(g+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),g+=m(i),N&&(g+="}"),i[2]&&(g+="}"),i[4]&&(g+="}"),g}).join("")},p.i=function(i,g,N,S,D){typeof i=="string"&&(i=[[null,i,void 0]]);var J={};if(N)for(var W=0;W<this.length;W++){var ce=this[W][0];ce!=null&&(J[ce]=!0)}for(var oe=0;oe<i.length;oe++){var j=[].concat(i[oe]);N&&J[j[0]]||(typeof D<"u"&&(typeof j[5]>"u"||(j[1]="@layer".concat(j[5].length>0?" ".concat(j[5]):""," {").concat(j[1],"}")),j[5]=D),g&&(j[2]&&(j[1]="@media ".concat(j[2]," {").concat(j[1],"}")),j[2]=g),S&&(j[4]?(j[1]="@supports (".concat(j[4],") {").concat(j[1],"}"),j[4]=S):j[4]="".concat(S)),p.push(j))}},p}},117:function(u){u.exports=function(m){return m[1]}},831:function(u,m){m.Z=(p,i)=>{const g=p.__vccOpts||p;for(const[N,S]of i)g[N]=S;return g}},466:function(u,m,p){var i=p(905);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[u.id,i,""]]),i.locals&&(u.exports=i.locals);var g=p(959).Z;g("50bc1720",i,!0,{sourceMap:!1,shadowMode:!1})},18:function(u,m,p){var i=p(121);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[u.id,i,""]]),i.locals&&(u.exports=i.locals);var g=p(959).Z;g("10aa5f36",i,!0,{sourceMap:!1,shadowMode:!1})},631:function(u,m,p){var i=p(207);i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[u.id,i,""]]),i.locals&&(u.exports=i.locals);var g=p(959).Z;g("1772934e",i,!0,{sourceMap:!1,shadowMode:!1})},959:function(u,m,p){function i(C,z){for(var M=[],F={},L=0;L<z.length;L++){var ae=z[L],ie=ae[0],ne=ae[1],te=ae[2],me=ae[3],he={id:C+":"+L,css:ne,media:te,sourceMap:me};F[ie]?F[ie].parts.push(he):M.push(F[ie]={id:ie,parts:[he]})}return M}p.d(m,{Z:function(){return Ce}});var g=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!g)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var N={},S=g&&(document.head||document.getElementsByTagName("head")[0]),D=null,J=0,W=!1,ce=function(){},oe=null,j="data-vue-ssr-id",ye=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function Ce(C,z,M,F){W=M,oe=F||{};var L=i(C,z);return Se(L),function(ae){for(var ie=[],ne=0;ne<L.length;ne++){var te=L[ne],me=N[te.id];me.refs--,ie.push(me)}for(ae?(L=i(C,ae),Se(L)):L=[],ne=0;ne<ie.length;ne++)if(me=ie[ne],me.refs===0){for(var he=0;he<me.parts.length;he++)me.parts[he]();delete N[me.id]}}}function Se(C){for(var z=0;z<C.length;z++){var M=C[z],F=N[M.id];if(F){F.refs++;for(var L=0;L<F.parts.length;L++)F.parts[L](M.parts[L]);for(;L<M.parts.length;L++)F.parts.push(x(M.parts[L]));F.parts.length>M.parts.length&&(F.parts.length=M.parts.length)}else{var ae=[];for(L=0;L<M.parts.length;L++)ae.push(x(M.parts[L]));N[M.id]={id:M.id,refs:1,parts:ae}}}}function o(){var C=document.createElement("style");return C.type="text/css",S.appendChild(C),C}function x(C){var z,M,F=document.querySelector("style["+j+'~="'+C.id+'"]');if(F){if(W)return ce;F.parentNode.removeChild(F)}if(ye){var L=J++;F=D||(D=o()),z=I.bind(null,F,L,!1),M=I.bind(null,F,L,!0)}else F=o(),z=Q.bind(null,F),M=function(){F.parentNode.removeChild(F)};return z(C),function(ae){if(ae){if(ae.css===C.css&&ae.media===C.media&&ae.sourceMap===C.sourceMap)return;z(C=ae)}else M()}}var Y=function(){var C=[];return function(z,M){return C[z]=M,C.filter(Boolean).join("\n")}}();function I(C,z,M,F){var L=M?"":F.css;if(C.styleSheet)C.styleSheet.cssText=Y(z,L);else{var ae=document.createTextNode(L),ie=C.childNodes;ie[z]&&C.removeChild(ie[z]),ie.length?C.insertBefore(ae,ie[z]):C.appendChild(ae)}}function Q(C,z){var M=z.css,F=z.media,L=z.sourceMap;if(F&&C.setAttribute("media",F),oe.ssrId&&C.setAttribute(j,z.id),L&&(M+="\n/*# sourceURL="+L.sources[0]+" */",M+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */"),C.styleSheet)C.styleSheet.cssText=M;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(M))}}},927:function(u){u.exports=y}},T={};function w(u){var m=T[u];if(m!==void 0)return m.exports;var p=T[u]={id:u,exports:{}};return c[u].call(p.exports,p,p.exports,w),p.exports}(function(){w.n=function(u){var m=u&&u.__esModule?function(){return u.default}:function(){return u};return w.d(m,{a:m}),m}})(),function(){w.d=function(u,m){for(var p in m)w.o(m,p)&&!w.o(u,p)&&Object.defineProperty(u,p,{enumerable:!0,get:m[p]})}}(),function(){w.o=function(u,m){return Object.prototype.hasOwnProperty.call(u,m)}}(),function(){w.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}}(),function(){w.p=""}();var P={};return function(){if(w.d(P,{default:function(){return Ot}}),typeof window<"u"){var u=window.document.currentScript,m=w(388);u=m(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:m});var p=u&&u.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);p&&(w.p=p[1])}var i=w(927);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={key:0,class:"vue-slider-marks"};function S(e,t,n,s,l,b){var E=(0,i.resolveComponent)("vue-slider-mark"),ue=(0,i.resolveComponent)("vue-slider-dot");return(0,i.openBlock)(),(0,i.createElementBlock)("div",(0,i.mergeProps)({ref:"container",class:e.containerClasses,style:e.containerStyles,onClick:t[2]||(t[2]=function(){return e.clickHandle&&e.clickHandle.apply(e,arguments)}),onTouchstartPassive:t[3]||(t[3]=function(){return e.dragStartOnProcess&&e.dragStartOnProcess.apply(e,arguments)}),onMousedownPassive:t[4]||(t[4]=function(){return e.dragStartOnProcess&&e.dragStartOnProcess.apply(e,arguments)})},e.$attrs),[(0,i.createElementVNode)("div",{class:"vue-slider-rail",style:(0,i.normalizeStyle)(e.railStyle)},[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.processArray,function(O,B){return(0,i.renderSlot)(e.$slots,"process",(0,i.normalizeProps)((0,i.guardReactiveProps)(O)),function(){return[((0,i.openBlock)(),(0,i.createElementBlock)("div",{class:"vue-slider-process",key:"process-".concat(B),style:(0,i.normalizeStyle)(O.style)},null,4))]})}),256)),e.sliderMarks&&e.control?((0,i.openBlock)(),(0,i.createElementBlock)("div",N,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.control.markList,function(O,B){return(0,i.renderSlot)(e.$slots,"mark",(0,i.normalizeProps)((0,i.guardReactiveProps)(O)),function(){var pe;return[((0,i.openBlock)(),(0,i.createBlock)(E,{key:"mark-".concat(B),mark:O,hideLabel:e.hideLabel,style:(0,i.normalizeStyle)((pe={},g(pe,e.isHorizontal?"height":"width","100%"),g(pe,e.isHorizontal?"width":"height",e.tailSize),g(pe,e.mainDirection,"".concat(O.pos,"%")),pe)),stepStyle:e.stepStyle,stepActiveStyle:e.stepActiveStyle,labelStyle:e.labelStyle,labelActiveStyle:e.labelActiveStyle,onPressLabel:t[0]||(t[0]=function(ze){return e.clickable&&e.setValueByPos(ze)})},{step:(0,i.withCtx)(function(){return[(0,i.renderSlot)(e.$slots,"step",(0,i.normalizeProps)((0,i.guardReactiveProps)(O)))]}),label:(0,i.withCtx)(function(){return[(0,i.renderSlot)(e.$slots,"label",(0,i.normalizeProps)((0,i.guardReactiveProps)(O)))]}),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle"]))]})}),256))])):(0,i.createCommentVNode)("",!0),((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(e.dots,function(O,B){var pe;return(0,i.openBlock)(),(0,i.createBlock)(ue,(0,i.mergeProps)({ref_for:!0,ref:"dot-".concat(B),key:"dot-".concat(B),value:O.value,disabled:O.disabled,focus:O.focus,"dot-style":[O.style,O.disabled?O.disabledStyle:null,O.focus?O.focusStyle:null],tooltip:O.tooltip||e.tooltip,"tooltip-style":[e.tooltipStyle,O.tooltipStyle,O.disabled?O.tooltipDisabledStyle:null,O.focus?O.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(e.sliderTooltipFormatter)?e.sliderTooltipFormatter[B]:e.sliderTooltipFormatter,"tooltip-placement":e.tooltipDirections[B],style:[e.dotBaseStyle,(pe={},g(pe,e.mainDirection,"".concat(O.pos,"%")),g(pe,"transition","".concat(e.mainDirection," ").concat(e.animateTime,"s")),pe)],onDragStart:function(){return e.dragStart(B)},role:"slider","aria-valuenow":O.value,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.isHorizontal?"horizontal":"vertical",tabindex:"0",onFocus:function(){return e.focus(O,B)},onBlur:t[1]||(t[1]=function(){return e.blur()})},e.dotAttrs),{dot:(0,i.withCtx)(function(){return[(0,i.renderSlot)(e.$slots,"dot",(0,i.normalizeProps)((0,i.guardReactiveProps)(O)))]}),tooltip:(0,i.withCtx)(function(){return[(0,i.renderSlot)(e.$slots,"tooltip",(0,i.normalizeProps)((0,i.guardReactiveProps)(O)))]}),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDragStart","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","onFocus"])}),128))],4),(0,i.renderSlot)(e.$slots,"default",{value:e.getValue()})],16)}var D=["aria-valuetext"],J={class:"vue-slider-dot-tooltip-text"};function W(e,t,n,s,l,b){var E;return(0,i.openBlock)(),(0,i.createElementBlock)("div",{ref:"dot",class:(0,i.normalizeClass)(e.dotClasses),"aria-valuetext":(E=e.tooltipValue)===null||E===void 0?void 0:E.toString(),onMousedownPassive:t[0]||(t[0]=function(){return e.dragStart&&e.dragStart.apply(e,arguments)}),onTouchstartPassive:t[1]||(t[1]=function(){return e.dragStart&&e.dragStart.apply(e,arguments)})},[(0,i.renderSlot)(e.$slots,"dot",{},function(){return[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(e.handleClasses),style:(0,i.normalizeStyle)(e.dotStyle)},null,6)]}),e.tooltip!=="none"?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(e.tooltipClasses)},[(0,i.renderSlot)(e.$slots,"tooltip",{},function(){return[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(e.tooltipInnerClasses),style:(0,i.normalizeStyle)(e.tooltipStyle)},[(0,i.createElementVNode)("span",J,(0,i.toDisplayString)(e.tooltipValue),1)],6)]})],2)):(0,i.createCommentVNode)("",!0)],42,D)}w(466);var ce=(0,i.defineComponent)({name:"VueSliderDot",emits:["drag-start"],props:{value:{type:[String,Number],default:0},tooltip:{type:String,required:!0},tooltipPlacement:{type:String,validator:function(e){return["top","right","bottom","left"].indexOf(e)>-1},required:!0},tooltipFormatter:{type:[String,Function]},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dotStyle:{type:Object},tooltipStyle:{type:Object}},computed:{dotClasses:function(){return["vue-slider-dot",{"vue-slider-dot-hover":this.tooltip==="hover"||this.tooltip==="active","vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip:function(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}},tooltipValue:function(){return this.tooltipFormatter?typeof this.tooltipFormatter=="string"?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart:function(){if(this.disabled)return!1;this.$emit("drag-start")}}}),oe=w(831),ye=(0,oe.Z)(ce,[["render",W]]);function Ce(e,t,n,s,l,b){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(e.marksClasses)},[(0,i.renderSlot)(e.$slots,"step",{},function(){return[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(e.stepClasses),style:(0,i.normalizeStyle)([e.stepStyle,e.mark.style||{},e.mark.active&&e.stepActiveStyle?e.stepActiveStyle:{},e.mark.active&&e.mark.activeStyle?e.mark.activeStyle:{}])},null,6)]}),e.hideLabel?(0,i.createCommentVNode)("",!0):(0,i.renderSlot)(e.$slots,"label",{key:0},function(){return[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(e.labelClasses),style:(0,i.normalizeStyle)([e.labelStyle,e.mark.labelStyle||{},e.mark.active&&e.labelActiveStyle?e.labelActiveStyle:{},e.mark.active&&e.mark.labelActiveStyle?e.mark.labelActiveStyle:{}]),onClick:t[0]||(t[0]=function(){return e.labelClickHandle&&e.labelClickHandle.apply(e,arguments)})},(0,i.toDisplayString)(e.mark.label),7)]})],2)}w(18);var Se=(0,i.defineComponent)({name:"VueSliderMark",emits:["press-label"],props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean},stepStyle:{type:Object,default:function(){return{}}},stepActiveStyle:{type:Object,default:function(){return{}}},labelStyle:{type:Object,default:function(){return{}}},labelActiveStyle:{type:Object,default:function(){return{}}}},computed:{marksClasses:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle:function(e){e.stopPropagation(),this.$emit("press-label",this.mark.pos)}}});const o=(0,oe.Z)(Se,[["render",Ce]]);var x,Y=o,I=function(e){return typeof e=="number"?"".concat(e,"px"):e},Q=function(e){var t=document.documentElement,n=document.body,s=e.getBoundingClientRect(),l={y:s.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||n.clientTop||0),x:s.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||n.clientLeft||0)};return l},C=function(e,t,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,l="targetTouches"in e?e.targetTouches[0]:e,b=Q(t),E={x:l.pageX-b.x,y:l.pageY-b.y};return{x:n?t.offsetWidth*s-E.x:E.x,y:n?t.offsetHeight*s-E.y:E.y}};(function(e){e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"})(x||(x={}));var z=function(e,t){if(t.hook){var n=t.hook(e);if(typeof n=="function")return n;if(!n)return null}switch(e.keyCode){case x.UP:return function(s){return t.direction==="ttb"?s-1:s+1};case x.RIGHT:return function(s){return t.direction==="rtl"?s-1:s+1};case x.DOWN:return function(s){return t.direction==="ttb"?s+1:s-1};case x.LEFT:return function(s){return t.direction==="rtl"?s+1:s-1};case x.END:return function(){return t.max};case x.HOME:return function(){return t.min};case x.PAGE_UP:return function(s){return s+10};case x.PAGE_DOWN:return function(s){return s-10};default:return null}};function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function L(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,ne,te=function(){function e(t){M(this,e),ae(this,"num",void 0),this.num=t}return L(e,[{key:"decimal",value:function(t,n){var s=this.num,l=this.getDecimalLen(s),b=this.getDecimalLen(t),E=0;switch(n){case"+":E=this.getExponent(l,b),this.num=(this.safeRoundUp(s,E)+this.safeRoundUp(t,E))/E;break;case"-":E=this.getExponent(l,b),this.num=(this.safeRoundUp(s,E)-this.safeRoundUp(t,E))/E;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(s,this.getExponent(l)),this.safeRoundUp(t,this.getExponent(b)))/this.getExponent(l+b);break;case"/":E=this.getExponent(l,b),this.num=this.safeRoundUp(s,E)/this.safeRoundUp(t,E);break;case"%":E=this.getExponent(l,b),this.num=this.safeRoundUp(s,E)%this.safeRoundUp(t,E)/E;break}return this}},{key:"plus",value:function(t){return this.decimal(t,"+")}},{key:"minus",value:function(t){return this.decimal(t,"-")}},{key:"multiply",value:function(t){return this.decimal(t,"*")}},{key:"divide",value:function(t){return this.decimal(t,"/")}},{key:"remainder",value:function(t){return this.decimal(t,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(t){var n="".concat(t).split("e");return("".concat(n[0]).split(".")[1]||"").length-(n[1]?+n[1]:0)}},{key:"getExponent",value:function(t,n){return Math.pow(10,n!==void 0?Math.max(t,n):t)}},{key:"safeRoundUp",value:function(t,n){return Math.round(t*n)}}]),e}();function me(e,t){return Pt(e)||wt(e,t)||ut(e,t)||he()}function he(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,l,b=[],E=!0,ue=!1;try{for(n=n.call(e);!(E=(s=n.next()).done)&&(b.push(s.value),!(t&&b.length===t));E=!0);}catch(O){ue=!0,l=O}finally{try{E||n.return==null||n.return()}finally{if(ue)throw l}}return b}}function Pt(e){if(Array.isArray(e))return e}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,s)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(s){ee(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ge(e){return se(e)||de(e)||ut(e)||$e()}function $e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ut(e,t){if(e){if(typeof e=="string")return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}function de(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function se(e){if(Array.isArray(e))return Ge(e)}function Ge(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function nt(e,t,n){return t&&qe(e.prototype,t),n&&qe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e[e.VALUE=1]="VALUE",e[e.INTERVAL=2]="INTERVAL",e[e.MIN=3]="MIN",e[e.MAX=4]="MAX",e[e.ORDER=5]="ORDER"})(ne||(ne={}));var Ne=(ie={},ee(ie,ne.VALUE,'The type of the "value" is illegal'),ee(ie,ne.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),ee(ie,ne.MIN,'The "value" must be greater than or equal to the "min".'),ee(ie,ne.MAX,'The "value" must be less than or equal to the "max".'),ee(ie,ne.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),ie),xt=function(){function e(t){ct(this,e),ee(this,"dotsPos",[]),ee(this,"dotsValue",[]),ee(this,"data",void 0),ee(this,"enableCross",void 0),ee(this,"fixed",void 0),ee(this,"max",void 0),ee(this,"min",void 0),ee(this,"interval",void 0),ee(this,"minRange",void 0),ee(this,"maxRange",void 0),ee(this,"order",void 0),ee(this,"marks",void 0),ee(this,"included",void 0),ee(this,"process",void 0),ee(this,"adsorb",void 0),ee(this,"dotOptions",void 0),ee(this,"onError",void 0),ee(this,"cacheRangeDir",{}),this.data=t.data,this.max=t.max,this.min=t.min,this.interval=t.interval,this.order=t.order,this.marks=t.marks,this.included=t.included,this.process=t.process,this.adsorb=t.adsorb,this.dotOptions=t.dotOptions,this.onError=t.onError,this.order?(this.minRange=t.minRange||0,this.maxRange=t.maxRange||0,this.enableCross=t.enableCross,this.fixed=t.fixed):((t.minRange||t.maxRange||!t.enableCross||t.fixed)&&this.emitError(ne.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(t.value)}return nt(e,[{key:"setValue",value:function(t){this.setDotsValue(Array.isArray(t)?ge(t):[t],!0)}},{key:"setDotsValue",value:function(t,n){this.dotsValue=t,n&&this.syncDotsPos()}},{key:"setDotsPos",value:function(t){var n=this,s=this.order?ge(t).sort(function(l,b){return l-b}):t;this.dotsPos=s,this.setDotsValue(s.map(function(l){return n.getValueByPos(l)}),this.adsorb)}},{key:"getValueByPos",value:function(t){var n=this.parsePos(t);if(this.included){var s=100;this.markList.forEach(function(l){var b=Math.abs(l.pos-t);b<s&&(s=b,n=l.value)})}return n}},{key:"syncDotsPos",value:function(){var t=this;this.dotsPos=this.dotsValue.map(function(n){return t.parseValue(n)})}},{key:"markList",get:function(){var t=this;if(!this.marks)return[];var n=function(s,l){var b=t.parseValue(s);return Ve({pos:b,value:s,label:s,active:t.isActiveByPos(b)},l)};return this.marks===!0?this.getValues().map(function(s){return n(s)}):Object.prototype.toString.call(this.marks)==="[object Object]"?Object.keys(this.marks).sort(function(s,l){return+s-+l}).map(function(s){var l=t.marks[s];return n(s,typeof l!="string"?l:{label:l})}):Array.isArray(this.marks)?this.marks.map(function(s){return n(s)}):typeof this.marks=="function"?this.getValues().map(function(s){return{value:s,result:t.marks(s)}}).filter(function(s){var l=s.result;return!!l}).map(function(s){var l=s.value,b=s.result;return n(l,b)}):[]}},{key:"getRecentDot",value:function(t){var n=this.dotsPos.map(function(s){return Math.abs(s-t)});return n.indexOf(Math.min.apply(Math,ge(n)))}},{key:"getIndexByValue",value:function(t){return this.data?this.data.indexOf(t):new te(+t).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(t){return t<0?t=0:t>this.total&&(t=this.total),this.data?this.data[t]:new te(t).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(t,n){t=this.getValidPos(t,n).pos;var s=t-this.dotsPos[n];if(s){var l=new Array(this.dotsPos.length);this.fixed?l=this.getFixedChangePosArr(s,n):this.minRange||this.maxRange?l=this.getLimitRangeChangePosArr(t,s,n):l[n]=s,this.setDotsPos(this.dotsPos.map(function(b,E){return b+(l[E]||0)}))}}},{key:"getFixedChangePosArr",value:function(t,n){var s=this;return this.dotsPos.forEach(function(l,b){if(b!==n){var E=s.getValidPos(l+t,b),ue=E.pos,O=E.inRange;O||(t=Math.min(Math.abs(ue-l),Math.abs(t))*(t<0?-1:1))}}),this.dotsPos.map(function(l){return t})}},{key:"getLimitRangeChangePosArr",value:function(t,n,s){var l=this,b=[{index:s,changePos:n}],E=n;return[this.minRange,this.maxRange].forEach(function(ue,O){if(!ue)return!1;var B=O===0,pe=n>0,ze=0;ze=B?pe?1:-1:pe?-1:1;for(var vt=function(ft,et){var pt=Math.abs(ft-et);return B?pt<l.minRangeDir:pt>l.maxRangeDir},Fe=s+ze,Re=l.dotsPos[Fe],Je=t;l.isPos(Re)&&vt(Re,Je);){var Rt=l.getValidPos(Re+E,Fe),Qe=Rt.pos;b.push({index:Fe,changePos:Qe-Re}),Fe+=ze,Je=Qe,Re=l.dotsPos[Fe]}}),this.dotsPos.map(function(ue,O){var B=b.filter(function(pe){return pe.index===O});return B.length?B[0].changePos:0})}},{key:"isPos",value:function(t){return typeof t=="number"}},{key:"getValidPos",value:function(t,n){var s=this.valuePosRange[n],l=!0;return t<s[0]?(t=s[0],l=!1):t>s[1]&&(t=s[1],l=!1),{pos:t,inRange:l}}},{key:"parseValue",value:function(t){if(this.data)t=this.data.indexOf(t);else if(typeof t=="number"||typeof t=="string"){if(t=+t,t<this.min)return this.emitError(ne.MIN),0;if(t>this.max)return this.emitError(ne.MAX),0;if(typeof t!="number"||t!==t)return this.emitError(ne.VALUE),0;t=new te(t).minus(this.min).divide(this.interval).toNumber()}var n=new te(t).multiply(this.gap).toNumber();return n<0?0:n>100?100:n}},{key:"parsePos",value:function(t){var n=Math.round(t/this.gap);return this.getValueByIndex(n)}},{key:"isActiveByPos",value:function(t){return this.processArray.some(function(n){var s=me(n,2),l=s[0],b=s[1];return t>=l&&t<=b})}},{key:"getValues",value:function(){if(this.data)return this.data;for(var t=[],n=0;n<=this.total;n++)t.push(new te(n).multiply(this.interval).plus(this.min).toNumber());return t}},{key:"getRangeDir",value:function(t){return t?new te(t).divide(new te(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(t){this.onError&&this.onError(t,Ne[t])}},{key:"processArray",get:function(){if(this.process){if(typeof this.process=="function")return this.process(this.dotsPos);if(this.dotsPos.length===1)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,ge(this.dotsPos)),Math.max.apply(Math,ge(this.dotsPos))]]}return[]}},{key:"total",get:function(){var t=0;return t=this.data?this.data.length-1:new te(this.max).minus(this.min).divide(this.interval).toNumber(),t-Math.floor(t)!==0?(this.emitError(ne.INTERVAL),0):t}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"getDotRange",value:function(t,n,s){if(!this.dotOptions)return s;var l=Array.isArray(this.dotOptions)?this.dotOptions[t]:this.dotOptions;return l&&l[n]!==void 0?this.parseValue(l[n]):s}},{key:"valuePosRange",get:function(){var t=this,n=this.dotsPos,s=[];return n.forEach(function(l,b){s.push([Math.max(t.minRange?t.minRangeDir*b:0,t.enableCross?0:n[b-1]||0,t.getDotRange(b,"min",0)),Math.min(t.minRange?100-t.minRangeDir*(n.length-1-b):100,t.enableCross?100:n[b+1]||100,t.getDotRange(b,"max",100))])}),s}},{key:"dotsIndex",get:function(){var t=this;return this.dotsValue.map(function(n){return t.getIndexByValue(n)})}}]),e}();function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Ae(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=function(){function e(t){st(this,e),Le(this,"map",void 0),Le(this,"states",0),this.map=t}return Ae(e,[{key:"add",value:function(t){this.states|=t}},{key:"delete",value:function(t){this.states&=~t}},{key:"toggle",value:function(t){this.has(t)?this.delete(t):this.add(t)}},{key:"has",value:function(t){return!!(this.states&t)}}]),e}();w(631);function We(e){return it(e)||at(e)||ke(e)||Oe()}function Oe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function at(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function it(e){if(Array.isArray(e))return je(e)}function re(e){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,s)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dt(Object(n),!0).forEach(function(s){be(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){return Ye(e)||Tt(e,t)||ke(e,t)||Et()}function Et(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ke(e,t){if(e){if(typeof e=="string")return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Tt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,l,b=[],E=!0,ue=!1;try{for(n=n.call(e);!(E=(s=n.next()).done)&&(b.push(s.value),!(t&&b.length===t));E=!0);}catch(O){ue=!0,l=O}finally{try{E||n.return==null||n.return()}finally{if(ue)throw l}}return b}}function Ye(e){if(Array.isArray(e))return e}var le={None:0,Drag:2,Focus:4},fe=4,Dt=(0,i.defineComponent)({name:"VueSlider",components:{VueSliderDot:ye,VueSliderMark:Y},emits:["change","drag-start","dragging","drag-end","error","update:modelValue"],data:function(){return{control:null,states:new Ct(le),scale:1,focusDotIndex:0}},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:function(e){return["ltr","rtl","ttb","btt"].indexOf(e)>-1}},width:{type:[Number,String]},height:{type:[Number,String]},dotSize:{type:[Number,Array],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!1},duration:{type:Number,default:.5},data:{type:[Object,Array]},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:function(e){return["none","always","focus","hover","active"].indexOf(e)>-1}},tooltipPlacement:{type:[String,Array],validator:function(e){return(Array.isArray(e)?e:[e]).every(function(t){return["top","right","bottom","left"].indexOf(t)>-1})}},tooltipFormatter:{type:[String,Array,Function]},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:Function},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number},maxRange:{type:Number},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},zoom:{type:Number},included:{type:Boolean},adsorb:{type:Boolean},hideLabel:{type:Boolean},dotOptions:{type:[Object,Array]},dotAttrs:{type:Object},railStyle:{type:Object},processStyle:{type:Object},dotStyle:{type:Object},tooltipStyle:{type:Object},stepStyle:{type:Object},stepActiveStyle:{type:Object},labelStyle:{type:Object},labelActiveStyle:{type:Object}},computed:{isHorizontal:function(){return this.direction==="ltr"||this.direction==="rtl"},isReverse:function(){return this.direction==="rtl"||this.direction==="btt"},tailSize:function(){return I((this.isHorizontal?this.height:this.width)||fe)},containerClasses:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]},containerStyles:function(){var e=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],t=Xe(e,2),n=t[0],s=t[1],l=this.width?I(this.width):this.isHorizontal?"auto":I(fe),b=this.height?I(this.height):this.isHorizontal?I(fe):"auto";return{padding:this.contained?"".concat(s/2,"px ").concat(n/2,"px"):this.isHorizontal?"".concat(s/2,"px 0"):"0 ".concat(n/2,"px"),width:l,height:b}},processArray:function(){var e=this;return this.control.processArray.map(function(t,n){var s,l=Xe(t,3),b=l[0],E=l[1],ue=l[2];if(b>E){var O=[E,b];b=O[0],E=O[1]}var B=e.isHorizontal?"width":"height";return{start:b,end:E,index:n,style:Ke(Ke((s={},be(s,e.isHorizontal?"height":"width","100%"),be(s,e.isHorizontal?"top":"left",0),be(s,e.mainDirection,"".concat(b,"%")),be(s,B,"".concat(E-b,"%")),be(s,"transitionProperty","".concat(B,",").concat(e.mainDirection)),be(s,"transitionDuration","".concat(e.animateTime,"s")),s),e.processStyle),ue)}})},dotBaseStyle:function(){var e,t=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],n=Xe(t,2),s=n[0],l=n[1];return e=this.isHorizontal?be({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),WebkitTransform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},this.direction==="ltr"?"left":"right","0"):be({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),WebkitTransform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},this.direction==="btt"?"bottom":"top","0"),Ke({width:"".concat(s,"px"),height:"".concat(l,"px")},e)},mainDirection:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top";default:return"left"}},tooltipDirections:function(){var e=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(e)?e:this.dots.map(function(){return e})},dots:function(){var e=this;return this.control.dotsPos.map(function(t,n){return Ke({pos:t,index:n,value:e.control.dotsValue[n],focus:e.states.has(le.Focus)&&e.focusDotIndex===n,disabled:e.disabled,style:e.dotStyle},(Array.isArray(e.dotOptions)?e.dotOptions[n]:e.dotOptions)||{})})},animateTime:function(){return this.states.has(le.Drag)?0:this.duration},canSort:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData:function(){var e=this;return this.isObjectArrayData(this.data)?this.data.map(function(t){return t[e.dataValue]}):this.isObjectData(this.data)?Object.keys(this.data):this.data},sliderMarks:function(){var e=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(t){var n={label:t};return e.data.some(function(s){return s[e.dataValue]===t&&(n.label=s[e.dataLabel],!0)}),n}:this.isObjectData(this.data)?this.data:void 0},sliderTooltipFormatter:function(){var e=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(n){var s=""+n;return e.data.some(function(l){return l[e.dataValue]===n&&(s=l[e.dataLabel],!0)}),s};if(this.isObjectData(this.data)){var t=this.data;return function(n){return t[n]}}},isNotSync:function(){var e=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==e.length||this.modelValue.some(function(t,n){return t!==e[n]}):this.modelValue!==e[0]},dragRange:function(){var e=this.dots[this.focusDotIndex-1],t=this.dots[this.focusDotIndex+1];return[e?e.pos:-1/0,t?t.pos:1/0]}},watch:{modelValue:function(){this.control&&!this.states.has(le.Drag)&&this.isNotSync&&this.control.setValue(this.modelValue)}},methods:{isObjectData:function(e){return!!e&&Object.prototype.toString.call(e)==="[object Object]"},isObjectArrayData:function(e){return!!e&&Array.isArray(e)&&e.length>0&&re(e[0])==="object"},bindEvent:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale:function(){this.scale=new te(Math.floor(this.isHorizontal?this.$el.offsetWidth:this.$el.offsetHeight)).multiply(this.zoom||1).divide(100).toNumber()},initControl:function(){var e=this;this.control=new xt({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach(function(t){e.$watch(t,function(n){if(t==="data"&&Array.isArray(e.control.data)&&Array.isArray(n)&&e.control.data.length===n.length&&n.every(function(s,l){return s===e.control.data[l]}))return!1;switch(t){case"data":case"dataLabel":case"dataValue":e.control.data=e.sliderData;break;case"mark":e.control.marks=e.sliderMarks;break;default:e.control[t]=n}["data","max","min","interval"].indexOf(t)>-1&&e.control.syncDotsPos()})})},syncValueByPos:function(){var e=this.control.dotsValue;if(this.isDiff(e,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){var t=e.length===1?e[0]:We(e);this.$emit("change",t,this.focusDotIndex),this.$emit("update:modelValue",t)}},isDiff:function(e,t){return e.length!==t.length||e.some(function(n,s){return n!==t[s]})},emitError:function(e,t){this.silent||console.error("[VueSlider error]: ".concat(t)),this.$emit("error",e,t)},dragStartOnProcess:function(e){if(this.dragOnClick){this.setScale();var t=this.getPosByEvent(e),n=this.control.getRecentDot(t);if(this.dots[n].disabled)return;this.dragStart(n),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart:function(e){this.focusDotIndex=e,this.setScale(),this.states.add(le.Drag),this.states.add(le.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove:function(e){if(!this.states.has(le.Drag))return!1;e.preventDefault();var t=this.getPosByEvent(e);this.isCrossDot(t),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos();var n=this.control.dotsValue;this.$emit("dragging",n.length===1?n[0]:We(n),this.focusDotIndex)},isCrossDot:function(e){if(this.canSort){var t=this.focusDotIndex,n=e;if(n>this.dragRange[1]?(n=this.dragRange[1],this.focusDotIndex++):n<this.dragRange[0]&&(n=this.dragRange[0],this.focusDotIndex--),t!==this.focusDotIndex){var s=this.$refs["dot-".concat(this.focusDotIndex)];s&&s.$el&&s.$el.focus(),this.control.setDotPos(n,t)}}},dragEnd:function(e){var t=this;if(!this.states.has(le.Drag))return!1;setTimeout(function(){t.lazy&&t.syncValueByPos(),t.included&&t.isNotSync?t.control.setValue(t.modelValue):t.control.syncDotsPos(),t.states.delete(le.Drag),t.useKeyboard&&!("targetTouches"in e)||t.states.delete(le.Focus),t.$emit("drag-end",t.focusDotIndex)})},blurHandle:function(e){if(!this.states.has(le.Focus)||!this.$refs.container||this.$refs.container.contains(e.target))return!1;this.states.delete(le.Focus)},clickHandle:function(e){if(!this.clickable||this.disabled)return!1;if(!this.states.has(le.Drag)){this.setScale();var t=this.getPosByEvent(e);this.setValueByPos(t)}},focus:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;e.disabled||(this.states.add(le.Focus),this.focusDotIndex=t)},blur:function(){this.states.delete(le.Focus)},getValue:function(){var e=this.control.dotsValue;return e.length===1?e[0]:e},getIndex:function(){var e=this.control.dotsIndex;return e.length===1?e[0]:e},setValue:function(e){this.control.setValue(Array.isArray(e)?We(e):[e]),this.syncValueByPos()},setIndex:function(e){var t=this,n=Array.isArray(e)?e.map(function(s){return t.control.getValueByIndex(s)}):this.control.getValueByIndex(e);this.setValue(n)},setValueByPos:function(e){var t=this,n=this.control.getRecentDot(e);if(this.disabled||this.dots[n].disabled)return!1;this.focusDotIndex=n,this.control.setDotPos(e,n),this.syncValueByPos(),this.useKeyboard&&this.states.add(le.Focus),setTimeout(function(){t.included&&t.isNotSync?t.control.setValue(t.modelValue):t.control.syncDotsPos()})},keydownHandle:function(e){var t=this;if(!this.useKeyboard||!this.states.has(le.Focus))return!1;var n=this.included&&this.marks,s=z(e,{direction:this.direction,max:n?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(s){e.preventDefault();var l=-1,b=0;n?(this.control.markList.some(function(E,ue){return E.value===t.control.dotsValue[t.focusDotIndex]&&(l=s(ue),!0)}),l<0?l=0:l>this.control.markList.length-1&&(l=this.control.markList.length-1),b=this.control.markList[l].pos):(l=s(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),b=this.control.parseValue(this.control.getValueByIndex(l))),this.isCrossDot(b),this.control.setDotPos(b,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent:function(e){return C(e,this.$el,this.isReverse,this.zoom)[this.isHorizontal?"x":"y"]/this.scale},renderSlot:function(e,t,n){var s=this.$slots[e];return s?s(t):n}},created:function(){this.initControl()},mounted:function(){this.bindEvent()},beforeUnmount:function(){this.unbindEvent()}}),Ze=(0,oe.Z)(Dt,[["render",S]]);Ze.VueSliderMark=Y,Ze.VueSliderDot=ye;var ot=Ze,Ot=ot}(),P=P.default,P}()})})(bn);var xi=bn.exports;const ln=_i(xi),Ci={};function Ei(h,d){const y=ve("v-btn");return v(),R(y,zt(Nt(h.$attrs)),{default:q(()=>[_t(h.$slots,"default",{},void 0,!0)]),_:3},16)}const Ti=Ie(Ci,[["render",Ei],["__scopeId","data-v-4220ea2c"]]),Z={__name:"ControlButton",props:{type:{type:String,default:"default"},icon:{type:String},disabled:{type:Boolean,default:!1},withBackground:{type:Boolean,default:!1}},emits:["click"],setup(h,{emit:d}){const y=h,c=f(()=>y.type=="big"?56:y.type=="small"?40:48),T=f(()=>y.type=="big"?34:24),w=f(()=>y.withBackground?"rgba(0, 0, 0, 0.3)":"inherit"),P=f(()=>y.withBackground?"flat":"text"),u=d;return(m,p)=>{const i=ve("v-icon");return v(),R(Ti,{color:w.value,width:c.value,height:c.value,disabled:h.disabled,variant:P.value,icon:"",onClick:p[0]||(p[0]=g=>u("click",g))},{default:q(()=>[X(i,{size:T.value,icon:h.icon},null,8,["size","icon"])]),_:1},8,["color","width","height","disabled","variant"])}}},Di={key:0,class:"bottom-sheet-title"},Ai={class:"items"},Oi={__name:"BottomSheet",props:{title:{type:String},items:{type:Array},bodyVisible:{type:Boolean,default:!0},rounded:{type:Boolean,default:!1},animationDuration:{type:Number,default:200}},emits:["cancel"],setup(h,{emit:d}){const y=h,c=d,T=f(()=>y.animationDuration/1e3+"s");function w(){c("cancel")}return(P,u)=>(v(),V("div",{class:"bottom-sheet-screen",style:St("--animation-duration: ".concat(T.value,";"))},[k("div",{class:"bottom-sheet-overlay",onClick:w}),k("div",{class:xe(["bottom-sheet-container",{"bottom-sheet-rounded":h.rounded,"bottom-sheet-visible":h.bodyVisible}]),onClick:w},[k("div",{class:"bottom-sheet-body",onClick:u[0]||(u[0]=Be(()=>{},["stop"]))},[h.title?(v(),V("div",Di,H(h.title),1)):_("",!0),k("div",Ai,[(v(!0),V(Bt,null,Ht(h.items,m=>_t(P.$slots,"default",{item:m},void 0,!0)),256))])])],2)],4))}},Xt=Ie(Oi,[["__scopeId","data-v-894b7984"]]),Ri=["onClick"],Ii={class:"icon-container"},Vi={class:"item-name"},$i={__name:"ListSelector",props:{selectedItem:{type:Number,default:-1}},emits:["item-selected"],setup(h,{emit:d}){const y=d;function c(T){y("item-selected",T)}return(T,w)=>{const P=ve("v-icon");return v(),R(Xt,zt(Nt(T.$attrs)),{default:q(u=>[k("div",{class:"item",onClick:m=>c(u.item)},[k("div",Ii,[u.item.id==h.selectedItem?(v(),R(P,{key:0},{default:q(()=>[we(" mdi-check ")]),_:1})):_("",!0)]),k("span",Vi,H(u.item.name),1)],8,Ri)]),_:1},16)}}},Mi=Ie($i,[["__scopeId","data-v-1ec98150"]]),Bi=h=>(Ut("data-v-c0f1bfd0"),h=h(),Ft(),h),Ni={key:0,class:"side-panel-content"},Li=Bi(()=>k("div",{class:"title"},"Content here",-1)),ji=[Li],zi={key:0,class:"side-panel-title"},Fi=["data-focus-up","data-focus-down","onFocus","onClick"],un=92,Ui={__name:"SidePanel",props:{title:{type:String},showOverlay:{type:Boolean,default:!1},showContent:{type:Boolean,default:!1},items:{type:Array},selectedItemId:{type:[String,Number]},bodyVisible:{type:Boolean,default:!0},animationDuration:{type:Number,default:200}},emits:["item-clicked","cancel"],setup(h,{emit:d}){const y=h,c=d,T=$(null),w=$(un),P=f(()=>y.animationDuration/1e3+"s");tt(()=>{u()}),lt(()=>y.items,async()=>{await jt(),u()});function u(){const S=p();if(console.log("setDefaultFocus",S),S!==-1){const D=kt.findById(g(S));D==null||D.focus()}}function m(){c("cancel")}function p(){return y.selectedItemId?y.items.findIndex(S=>S.id==y.selectedItemId):y.items.length?0:-1}function i(S,D){T.value=D.id,w.value=un-S.offsetTop}function g(S){return"side-panel-item-".concat(S)}function N(S){c("item-clicked",S)}return(S,D)=>{const J=Gt("focus");return v(),V("div",{class:"side-panel-screen",style:St("--animation-duration: ".concat(P.value,";"))},[k("div",{class:xe(["side-panel-overlay",{"overlay-visible":h.showOverlay}]),onClick:m},null,2),k("div",{class:xe(["side-panel-container",{"side-panel-visible":h.bodyVisible}]),onClick:m},[h.showContent?(v(),V("div",Ni,ji)):_("",!0),k("div",{class:"side-panel-menu",onClick:D[0]||(D[0]=Be(()=>{},["stop"]))},[h.title?(v(),V("div",zi,H(h.title),1)):_("",!0),k("div",{class:"items",style:St("transform: translateY(".concat(w.value,"px)"))},[(v(!0),V(Bt,null,Ht(h.items,(W,ce)=>Te((v(),V("div",{class:xe(["item-container",{focused:T.value===W.id}]),key:W.id,tabindex:"0","data-focus-up":g(ce-1),"data-focus-down":g(ce+1),onFocus:oe=>i(oe.target,W),onClick:oe=>N(W)},[_t(S.$slots,"default",{item:W},void 0,!0)],42,Fi)),[[J,{id:g(ce),enabled:!0}]])),128))],4)])],2)],4)}}},kn=Ie(Ui,[["__scopeId","data-v-c0f1bfd0"]]),Hi=["onClick"],Gi={key:0,class:"item"},qi={class:"left-container"},Wi={key:0,class:"icon-container"},Ki={class:"item-name"},Xi={key:0,class:"current-value"},Yi={class:"right-container"},Zi={key:0,class:"current-value"},Ji={key:1,class:"submenu-marker"},Qi={key:1,class:"item"},eo={class:"left-container"},to={class:"icon-container"},no={class:"item-name"},so={key:2,class:"delay-container"},ao={class:"delay-controls"},io={class:"selector-value"},oo={class:"delay-actions"},ro={__name:"PlayerMenu",props:{animationDuration:{type:Number,default:200},playbackSpeed:{type:Number},audioTracks:{type:Array},selectedAudioTrack:{type:Number},spuTracks:{type:Array},selectedSpuTrack:{type:Number},streams:{type:Array},selectedStream:{type:Number},isTv:{type:Boolean,default:!1}},emits:["select-audio-track","select-spu-track","select-stream","lock-screen","set-rate","cancel"],setup(h,{emit:d}){const y=d,c=h,T=$({audioDelay:{value:0,defaultValue:0,step:100},spuDelay:{value:0,defaultValue:0,step:100}}),w=$(!0),P=$(null),u=f(()=>{if(c.selectedAudioTrack<0)return"Off";{const o=c.audioTracks.find(x=>x.id==c.selectedAudioTrack);return o==null?void 0:o.name}}),m=f(()=>{if(c.selectedSpuTrack<0)return"Off";{const o=c.spuTracks.find(x=>x.id==c.selectedSpuTrack);return o==null?void 0:o.name}}),p=f(()=>{const o=c.streams.find(x=>x.index==c.selectedStream);return o==null?void 0:o.name}),g={title:null,type:"menu",items:[{id:"playback-speed",title:"Playback speed",icon:"mdi-play-speed",hasSubmenu:!0,currentValue:f(()=>c.playbackSpeed==1?"Normal":"".concat(c.playbackSpeed,"x")).value,onclick:o=>D(o.id)},{id:"stream",title:"Quality",visible:c.streams.length>1,hasSubmenu:!0,currentValue:p.value,onclick:o=>D(o.id)},{id:"audio-track",title:"Audio track",icon:"mdi-music-note",hasSubmenu:!0,currentValue:u.value,onclick:o=>D(o.id),visible:c.audioTracks.length>0},{id:"spu-track",title:"Subtitles",icon:"mdi-subtitles",hasSubmenu:!0,currentValue:m.value,onclick:o=>D(o.id),visible:c.spuTracks.length>0},{id:"audio-delay",title:"Audio delay",hasSubmenu:!0,currentValue:ce("audioDelay"),onclick:o=>D(o.id)},{id:"spu-delay",title:"Subtitles delay",hasSubmenu:!0,currentValue:ce("spuDelay"),onclick:o=>D(o.id)},{id:"lock-screen",title:"Lock screen",icon:"mdi-lock",visible:!c.isTv,onclick:()=>{y("lock-screen"),y("cancel")}}]},N={"playback-speed":{title:null,type:"select",selectedItem:c.playbackSpeed,onclick:o=>{console.log("set playback speed: ".concat(o.id)),W(parseFloat(o.id))},items:[{id:"0.25",title:"0.25x"},{id:"0.5",title:"0.5x"},{id:"0.75",title:"0.75x"},{id:"1",title:"Normal"},{id:"1.25",title:"1.25x"},{id:"1.5",title:"1.5x"},{id:"1.75",title:"1.75x"},{id:"2",title:"2x"}]},"audio-track":{title:null,type:"select",selectedItem:c.selectedAudioTrack,onclick:o=>{y("select-audio-track",o)},items:c.audioTracks.map(o=>({id:o.id,title:o.name}))},"spu-track":{title:null,type:"select",selectedItem:c.selectedSpuTrack,onclick:o=>{y("select-spu-track",o)},items:c.spuTracks.map(o=>({id:o.id,title:o.name}))},stream:{title:null,type:"select",selectedItem:c.selectedStream,onclick:o=>{console.log("click stream",o),y("select-stream",o)},items:c.streams.map(o=>({...o,id:o.index,title:o.name}))},"audio-delay":{title:"Audio delay",type:"delay-selector",items:[{target:"audioDelay"}]},"spu-delay":{title:"Subtitles delay",type:"delay-selector",items:[{target:"spuDelay"}]}},S=f(()=>{let o;return P.value?o=N[P.value]:o=g,Object.assign({},o,{items:o.items.filter(x=>x.visible!==!1)})});function D(o){w.value=!1,setTimeout(()=>{P.value=o,w.value=!0},c.animationDuration)}function J(o){var x;o.onclick?o.onclick(o):(x=S.value)!=null&&x.onclick&&S.value.onclick(o)}function W(o){y("set-rate",o),y("cancel")}function ce(o){const x=T.value[o];return"".concat(x.value,"ms")}function oe(o){ye(o,-1)}function j(o){ye(o,1)}function ye(o,x){const Y=T.value[o],I=Y.value+x*Y.step;Se(o,I)}function Ce(o){Se(o,T.value[o].defaultValue)}function Se(o,x){T.value[o].value=x,y("update-delay",o,x)}return(o,x)=>{const Y=ve("v-icon"),I=ve("v-btn");return v(),R(qt(h.isTv?kn:Xt),Lt(o.$attrs,{bodyVisible:w.value,animationDuration:h.animationDuration,rounded:"",title:S.value.title,items:S.value.items,selectedItemId:S.value.selectedItem,onItemClicked:J}),{default:q(Q=>[k("div",{onClick:C=>J(Q.item)},[S.value.type=="menu"?(v(),V("div",Gi,[k("div",qi,[h.isTv?_("",!0):(v(),V("div",Wi,[Q.item.icon?(v(),R(Y,{key:0},{default:q(()=>[we(H(Q.item.icon),1)]),_:2},1024)):_("",!0)])),k("span",Ki,[we(H(Q.item.title)+" ",1),h.isTv&&Q.item.currentValue?(v(),V("div",Xi,H(Q.item.currentValue),1)):_("",!0)])]),k("div",Yi,[!h.isTv&&Q.item.currentValue?(v(),V("div",Zi,H(Q.item.currentValue),1)):_("",!0),Q.item.hasSubmenu?(v(),V("div",Ji,[X(Y,null,{default:q(()=>[we(" mdi-chevron-right ")]),_:1})])):_("",!0)])])):S.value.type=="select"?(v(),V("div",Qi,[k("div",eo,[k("div",to,[Q.item.id==S.value.selectedItem?(v(),R(Y,{key:0},{default:q(()=>[we(" mdi-check ")]),_:1})):_("",!0)]),k("span",no,H(Q.item.title),1)])])):S.value.type=="delay-selector"?(v(),V("div",so,[k("div",ao,[X(I,{icon:"",onClick:C=>oe(Q.item.target)},{default:q(()=>[X(Y,null,{default:q(()=>[we(" mdi-minus ")]),_:1})]),_:2},1032,["onClick"]),k("span",io,H(ce(Q.item.target)),1),X(I,{icon:"",onClick:C=>j(Q.item.target)},{default:q(()=>[X(Y,null,{default:q(()=>[we(" mdi-plus ")]),_:1})]),_:2},1032,["onClick"])]),k("div",oo,[X(I,{text:"",onClick:C=>Ce(Q.item.target)},{default:q(()=>[we(" Reset ")]),_:2},1032,["onClick"])])])):_("",!0)],8,Hi)]),_:1},16,["bodyVisible","animationDuration","title","items","selectedItemId"])}}},lo=Ie(ro,[["__scopeId","data-v-ccf56bef"]]),uo=["onClick"],co={class:"left-container"},vo={__name:"PlaylistSheet",props:{title:{type:String},playlist:{type:Object},isTv:{type:Boolean,default:!1}},emits:["item-selected","cancel"],setup(h,{emit:d}){const y=h,c=d,T=f(()=>y.playlist.items.map((P,u)=>({id:u,title:P.title})));function w(P){c("item-selected",P,P.id)}return(P,u)=>(v(),R(qt(h.isTv?kn:Xt),Lt(P.$attrs,{rounded:"",title:null,items:T.value,selectedItemId:h.playlist.position,onItemClicked:w,onCancel:u[0]||(u[0]=m=>P.$emit("cancel"))}),{default:q(m=>[k("div",{class:"item",onClick:p=>w(m.item)},[k("div",co,[k("div",{class:xe(["item-title fade-text-right",{"item-selected":m.item.id==h.playlist.position}])},H(m.item.title),3)])],8,uo)]),_:1},16,["items","selectedItemId"]))}},fo=Ie(vo,[["__scopeId","data-v-0fc01c24"]]),Yt=h=>(Ut("data-v-27a14eff"),h=h(),Ft(),h),po={key:0,class:"unlock-button-container"},mo={key:1,class:"status-container"},ho={key:0,class:"box-message"},yo={class:"play-button-container"},go={key:0,class:"box-buffering-progress"},bo={class:"top-bar"},ko={class:"left-actions"},So={class:"top-title-container fade-text-right"},_o=Yt(()=>k("div",{class:"right-actions"},null,-1)),wo={key:0,class:"center-controls-container"},Po={class:"volume-container"},xo={class:"center-box-actions"},Co={class:"box-container-inner"},Eo={key:0,class:"box-message"},To={key:1,class:"box-buffering-progress"},Do={class:"center-box-actions"},Ao={class:"title-container"},Oo={key:1,class:"p2p-info-container"},Ro={class:"p2p-info-item"},Io={class:"p2p-info-item"},Vo={class:"p2p-info-item"},$o={class:"progress-container"},Mo={class:"progress-slider-row"},Bo={class:"go-live-button-container"},No={class:"progress-time-row"},Lo={key:1,class:"center-landscape-controls"},jo={class:"play-button-container"},zo={key:2,class:"bottom-controls-container"},Fo={key:0,class:"buttons-row"},Uo=Yt(()=>k("div",{class:"left-container"},null,-1)),Ho={class:"right-container"},Go={key:1,class:"progress-container"},qo={key:0,class:"progress-time-row"},Wo={class:"progress-time"},Ko=Yt(()=>k("div",{class:"progress-time-spacer"},"/",-1)),Xo={class:"progress-duration"},Yo={class:"progress-slider-row"},Zo={class:"go-live-button-container"},Jo={key:1,class:"progress-time-row"},Qo={class:"progress-time"},er={class:"progress-duration"},tr={key:2,class:"buttons-row"},nr={class:"left-container"},sr={class:"right-container"},ar={key:0,class:"p2p-info-container"},ir={class:"p2p-info-item"},or={class:"p2p-info-item"},rr={class:"p2p-info-item"};const lr=0,cn=1,ur=2,cr=3,$t=0,dn=1,vn=2,fn=3,pn=4,Mt=5,mn="none",hn="idle",yt="local",rt="acecast",gt="chromecast",dr={__name:"RemoteControl",props:{state:{type:Object,required:!0},videoPlayer:{type:Object,required:!0},mediaUri:{type:String,required:!0}},setup(h){const d=h,y=f(()=>!1),c=f(()=>y.value&&he.value),T={AUDIO_TRACK:0,SPU_TRACK:1,PLAYLIST:2,STREAM:3,MENU:4},w={NONE:0,STOPPED:1,PAUSED:2,PLAYING:3,BUFFERING:6,ERROR:7},P=ni(),u=Mt,m=$(0),p=$(null),i=$(!1),g=$(rt),N=$(null),S=$(!1),D=$(0),J=$(null),W=$(null),ce=$(!1),oe=$(!1),j=$(null),ye=$(null),Ce=$(!1),Se=$(!0),o=$(!1),x=$(null),Y=$(0),I=f(()=>d.videoPlayer),Q=f(()=>d.state),C=f(()=>Q.value.isTv),z=f(()=>!he.value),M=f(()=>N.value!==null),F=f(()=>De.value&&he.value&&!se.value&&!re.value),L=f(()=>{switch(g.value){case yt:return cn;case rt:return ur;case gt:return cr;default:return lr}}),ae=f(()=>U.value&&!ct.value&&g.value!=mn),ie=f(()=>S.value?D.value:J.value!==null?J.value:U.value.time),ne=f(()=>o.value?Y.value:x.value!==null?x.value:U.value.volume),te=f(()=>{switch(N.value){case T.AUDIO_TRACK:return{visible:!0,type:"list-selector",title:"audio_track",items:nt.value,selectedItem:ee.value,onselected:en};case T.SPU_TRACK:return{visible:!0,type:"list-selector",title:"spu_track",items:qe.value,selectedItem:Ne.value,onselected:tn};case T.STREAM:return{visible:!0,type:"list-selector",title:"select_stream",items:be.value,selectedItem:Xe.value.index,onselected:sn};case T.PLAYLIST:return{visible:!0,type:"playlist",onselected:()=>{}};case T.MENU:return{visible:!0,type:"player-menu",onselected:()=>{}};default:return{visible:!1,onselected:()=>{}}}}),me=f(()=>!re.value&&!se.value&&!Le.value&&de.value&&!wt.value),he=f(()=>g.value==yt),wt=f(()=>g.value==gt),Pt=f(()=>g.value==rt),U=f(()=>{if(g.value==yt)return Q.value.playerState.local;if(g.value==rt)return Q.value.playerState.acecast;if(g.value==gt)return Q.value.playerState.chromecast;if(g.value==hn)return Q.value.playerState.local;if(g.value==mn)return null;throw"Unknown playback mode: ".concat(g.value)}),Ve=f(()=>{var _e,He;const a=U.value,r=g.value,A=a==null?void 0:a.localInternalPlaylistState,G=a==null?void 0:a.remoteInternalPlaylistState;if(a){if(r==rt)return G;if(r==yt)return((_e=a.playlistState)==null?void 0:_e.size)>0&&((He=a.playlistState)!=null&&He.mediaItem)?a.playlistState:A;if(r==gt)return A;if(r==hn)return(A==null?void 0:A.size)>0&&(G==null?void 0:G.size)>0?A.createdAt>G.createdAt?A:G:(A==null?void 0:A.size)>0?A:(G==null?void 0:G.size)>0?G:null;throw"Unknown playback mode: ".concat(r)}else return null}),ge=f(()=>{var a;return(a=Ve.value)==null?void 0:a.mediaItem}),$e=f(()=>{var a;return((a=U.value)==null?void 0:a.playbackState)==w.PLAYING}),ut=f(()=>U.value.playbackState==w.PAUSED),de=f(()=>$e.value||ut.value),se=f(()=>he.value&&U.value.locked),Ge=f(()=>{var a;return(a=U.value)==null?void 0:a.muted}),ct=f(()=>{var a,r;return(r=(a=Q.value.playerState)==null?void 0:a.local)==null?void 0:r.isInPiP}),qe=f(()=>{var a;return(a=U.value)==null?void 0:a.spuTracks}),nt=f(()=>{var a;return(a=U.value)==null?void 0:a.audioTracks}),ee=f(()=>{var a;return(a=U.value)==null?void 0:a.audioTrack}),Ne=f(()=>{var a;return(a=U.value)==null?void 0:a.spuTrack}),xt=f(()=>{var a;return((a=nt.value)==null?void 0:a.length)>0}),st=f(()=>{var a;return((a=qe.value)==null?void 0:a.length)>0}),De=f(()=>{var a;return((a=ge.value)==null?void 0:a.type)=="VIDEO"}),Ae=f(()=>{var a,r,A;return((a=ge.value)==null?void 0:a.type)=="AUDIO"||((r=ge.value)==null?void 0:r.type)=="VIDEO"&&((A=ge.value)==null?void 0:A.videoDisabled)}),Le=f(()=>{var a;return((a=ge.value)==null?void 0:a.live)==1}),Ct=f(()=>{var a;return(a=ge.value)==null?void 0:a.p2p}),We=f(()=>{var a;return(a=ge.value)==null?void 0:a.title}),Oe=f(()=>{var a;return((a=Ve.value)==null?void 0:a.size)>1}),at=f(()=>{var a;return(a=Ve.value)==null?void 0:a.hasNext}),it=f(()=>{var a;return(a=Ve.value)==null?void 0:a.hasPrev}),re=f(()=>Q.value.playerState.playerStopped),dt=f(()=>{var a;return(a=U.value)==null?void 0:a.rate}),Ke=f(()=>{var a,r,A;return Le.value?"mdi-web":((a=ge.value)==null?void 0:a.type)=="AUDIO"||(A=(r=ge.value)==null?void 0:r.mime)!=null&&A.startsWith("audio")?"mdi-volume-low":"mdi-video"}),be=f(()=>{var a;return((a=U.value.engineStatus)==null?void 0:a.streams)||[]}),Xe=f(()=>{var r;const a=(r=U.value.engineStatus)==null?void 0:r.currentStreamIndex;for(let A=0;A<be.value.length;A++)if(be.value[A].index==a)return be.value[A];return null}),Et=f(()=>{var a;return U.value.engineSession?U.value.engineSession.playbackData.outputFormat.format:(a=U.value.engineStatus)==null?void 0:a.outputFormat}),ke=f(()=>U.value.engineStatus||{status:"idle"}),je=f(()=>{const a=ke.value.status;return a&&a!="idle"}),Tt=f(()=>{let a=null;switch(ke.value.status){case"engine_unpacking":a=P.t("engine_status.unpacking");break;case"engine_starting":a=P.t("engine_status.starting");break;case"engine_failed":a=P.t("engine_status.failed");break;case"loading":a=P.t("engine_status.loading");break;case"starting":a=P.t("engine_status.starting");break;case"check":a=P.t("engine_status.checking",{progress:ke.value.progress});break;case"error":a=ke.value.errorMessage;break;case"prebuf":case"dl":ke.value.status=="prebuf"&&!$e.value&&(a=P.t("engine_status.prebuffering",{progress:ke.value.progress}))}return a}),Ye=f(()=>W.value?W.value:Ct.value?Tt.value:null),le=f(()=>{var a;return U.value.playbackState==w.BUFFERING||(a=Ve.value)!=null&&a.prebuffering?!0:ce.value}),fe=f(()=>{var r;const a=(r=U.value.engineStatus)==null?void 0:r.livePos;if(a&&Et.value==="http"){const A=a.lastTimestamp-a.firstTimestamp,G=a.last-a.first,_e=a.pos-a.first;return{duration:A,pieces:G,offset:_e,live:a.isLive}}else return null}),Dt=f(()=>{var a;return S.value?D.value:J.value!==null?J.value:(a=fe.value)==null?void 0:a.offset}),At=f(()=>fe.value?Dt.value:ie.value),Ze=f(()=>fe.value?fe.value.pieces:U.value.duration),ot=f(()=>Math.round(Ze.value/100)),Ot=f(()=>ot.value*100),e=f(()=>fe.value?-1e3*fe.value.duration:U.value.time),t=f(()=>fe.value?0:U.value.duration),n=f(()=>{var a;return(a=U.value)==null?void 0:a.hasVolume});let s=null,l=null,b=null;function E(a){switch(a){case $t:return P.t("surface_best_fit");case dn:return P.t("surface_fit_screen");case vn:return P.t("surface_fill");case fn:return"16:9";case pn:return"4:3";case Mt:return P.t("surface_original");default:return null}}async function ue(a,r){W.value=a,l&&clearTimeout(l),l=setTimeout(()=>W.value=null,r)}async function O(){await($e.value?ze():pe())}function B(a){return{...a,target:L.value}}async function pe(){await I.value.play(B({}))}async function ze(){await I.value.pause(B({}))}async function vt(){await I.value.stop(B({}))}async function Fe(){await I.value.stopEngineSession({target:cn})}async function Re(){await I.value.next(B({}))}async function Je(){await I.value.previous(B({}))}function Rt(a){switch(a){case $t:return"best_fit";case dn:return"fit_screen";case vn:return"fill";case fn:return"16:9";case pn:return"4:3";case Mt:return"original";default:return null}}async function Qe(){var A,G;const a=(G=(A=U.value)==null?void 0:A.videoSize)!=null?G:$t,r=(a+1)%(u+1);console.log("resizeVideo: currentSize=".concat(a," newSize=").concat(r)),await I.value.setVideoSize(B({value:Rt(r)})),ue(E(r),2500)}async function ft(){await I.value.goLive(B({}))}async function et(a){const r=U.value.time+a*1e3;await I.value.seekTo(B({time:r}));const A=a>0?"+":"-",G=Math.abs(a);ue("".concat(A).concat(Me(G*1e3)),2500)}const pt=f(()=>Jt.value||oe.value),Jt=f(()=>se.value||ct.value?!1:i.value||!he.value||!$e.value&&Se.value||te.value.visible||!De.value||S.value||o.value);async function Qt(){await I.value.switchToAudio()}function Sn(){mt(T.MENU)}async function _n(){mt(T.AUDIO_TRACK)}async function en(a){Ue(),await I.value.setAudioTrack(B({trackId:a.id}))}function mt(a){N.value=a}function Ue(){N.value=null,wn()}async function wn(){}async function Pn(){mt(T.SPU_TRACK)}async function tn(a){Ue(),await I.value.setSpuTrack(B({trackId:a.id}))}async function nn(){let a;Ne.value<0?a=1:a=-1,await I.value.setSpuTrack(B({trackId:a}))}async function It(){mt(T.PLAYLIST)}async function xn(a,r){console.log("playlist item selected: index=".concat(r," item=").concat(JSON.stringify(a))),Ue(),await I.value.playIndex(B({index:r}))}async function sn(a){Ue(),await I.value.switchStream(B({index:a.index,type:a.streamType}))}function Cn(){console.log("onProgressClick: dragging=".concat(S.value," value=").concat(D.value)),S.value?Vt(D.value):O()}async function En(a){var r;if(a=parseInt(a),Le.value){const A=(r=U.value.engineStatus)==null?void 0:r.livePos;if(A){let G=A.first+a;const _e=A.last-A.first;if(_e>0){let He=!1;const ht=Math.abs(G-A.pos)/_e,Ee=Math.abs(G-A.last)/_e;ht<.05&&(He=!0),Ee<.05&&(G=-1),console.log("liveSeek: value=".concat(a," seekTo=").concat(G," percentToCurrent=").concat(ht," percentToLive=").concat(Ee)),He||await I.value.liveSeek(B({position:G}))}}}else await I.value.seekTo(B({time:a}))}async function an(){S.value=!0}function on(){console.log("onSliderEnd",D.value),S.value=!1,Vt(D.value)}function rn(a){console.log("onSliderInput",a),D.value=a,S.value?Tn(a):Vt(a)}function Vt(a){const r=Le.value?5e3:2e3;S.value=!1,D.value=0,J.value=a,s&&clearTimeout(s),s=setTimeout(()=>J.value=null,r),En(a)}function Tn(a){let r;fe.value?r=-1e3*fe.value.duration*(1-a/fe.value.pieces):r=a-U.value.time;const A=r>0?"+":"-";r=Math.abs(r),ue("".concat(A).concat(Me(r)),2500)}async function Dn(){console.log("onSliderBlur"),S.value=!1,D.value=0,An()}async function An(){J.value=0,await jt(),J.value=null}async function On(a){console.log("onVolumeUpdate: value=".concat(a," dragging=").concat(o.value)),o.value&&(Y.value=a,ue("Volume ".concat(a,"%"),1e3)),b&&clearTimeout(b),b=setTimeout(async()=>{await I.value.setVolume(B({volume:a})),b=null},100)}async function Rn(){o.value=!0}async function In(){o.value=!1}async function Vn(){await I.value.mute(B({muted:!Ge.value}))}function Me(a){let r="";a<0&&(a*=-1,r="-"),a=Math.floor(a/1e3);const A=Math.floor(a/3600),G=Math.floor((a-A*3600)/60),_e=Math.floor(a-A*3600-G*60);return A>0?"".concat(r).concat(A,":").concat(G.toString().padStart(2,"0"),":").concat(_e.toString().padStart(2,"0")):"".concat(r).concat(G,":").concat(_e.toString().padStart(2,"0"))}async function $n(a){ue("".concat(a,"x"),2500),await I.value.setRate(B({rate:a}))}return lt(M,a=>{a||kt.restoreFocus()}),lt(pt,a=>{kt.setActive(a)},{immediate:!0}),tt(async()=>{kt.restoreFocus()}),(a,r)=>{const A=ve("v-icon"),G=ve("v-btn"),_e=ve("v-progress-circular"),He=ve("v-slider"),ht=ve("v-container"),Ee=Gt("focus");return ae.value?(v(),V("div",{key:0,class:xe(["fill-height player-screen w-100",{"is-tv":C.value,"mode-portrait":!c.value,"mode-landscape":c.value,"orientation-portrait":!y.value,"orientation-landscape":y.value}])},[oe.value?(v(),V("div",po,[X(G,{outlined:"",onClick:a.unlockScreen},{default:q(()=>[X(A,{left:""},{default:q(()=>[we(" mdi-lock-open ")]),_:1}),we(" Unlock ")]),_:1},8,["onClick"])])):_("",!0),c.value?(v(),V("div",mo,[Ye.value?(v(),V("div",ho,H(Ye.value),1)):_("",!0),k("div",yo,[le.value?(v(),V("div",go,[X(_e,{indeterminate:"",size:"34"})])):_("",!0),Te(k("div",{ref_key:"playPauseAnimation",ref:ye},[X(A,{size:"34"},{default:q(()=>[we(H(j.value),1)]),_:1})],512),[[gn,C.value&&!le.value&&Ce.value]])])])):_("",!0),Jt.value?(v(),R(ht,{key:2,class:"page-container fill-height flex-start align-start"},{default:q(()=>[k("div",bo,[k("div",ko,[k("div",So,H(We.value),1)]),_o]),c.value?_("",!0):(v(),V("div",wo,[n.value&&!re.value&&!he.value?(v(),V("div",{key:0,class:"volume-placeholder",onMousedown:r[0]||(r[0]=Be(()=>{},["stop"]))},[k("div",Po,[X(G,{icon:"",variant:"text",onClick:Vn,width:"32",height:"32",disabled:se.value||!de.value,style:{"margin-right":"8px"}},{default:q(()=>[X(A,{icon:Ge.value?"mdi-volume-off":"mdi-volume-mute"},null,8,["icon"])]),_:1},8,["disabled"]),X(Pe(ln),{"model-value":ne.value,min:0,max:100,width:"100%",height:"1px",tooltip:"none",disabled:se.value||!de.value,onDragStart:Rn,onDragEnd:In,onChange:On},null,8,["model-value","disabled"])])],32)):_("",!0),k("div",{class:"box-row",onMousedown:r[3]||(r[3]=Be(()=>{},["stop"]))},[k("div",xo,[me.value?(v(),R(Z,{key:0,onClick:r[1]||(r[1]=K=>et(-10)),icon:"mdi-rewind-10",type:"small",withBackground:!z.value},null,8,["withBackground"])):_("",!0)]),k("div",{ref_key:"centerBox",ref:p,class:xe(["box-container",{opaque:z.value}])},[k("div",Co,[Ye.value?(v(),V("div",Eo,H(Ye.value),1)):le.value?(v(),V("div",To,[X(_e,{indeterminate:"",size:"48"})])):!se.value&&!re.value?(v(),R(Z,{key:2,onClick:O,icon:$e.value?"mdi-pause":"mdi-play",type:"big",withBackground:!z.value},null,8,["icon","withBackground"])):(v(),R(A,{key:3,class:"content-type-image",size:"96"},{default:q(()=>[we(H(Ke.value),1)]),_:1}))])],2),k("div",Do,[me.value?(v(),R(Z,{key:0,onClick:r[2]||(r[2]=K=>et(10)),icon:"mdi-fast-forward-10",type:"small",withBackground:!z.value},null,8,["withBackground"])):_("",!0)])],32),k("div",Ao,H(We.value),1),je.value?(v(),V("div",Oo,[k("div",Ro,"Helping: "+H(ke.value.peers),1),k("div",Io,"DL: "+H(ke.value.speedDown),1),k("div",Vo,"UL: "+H(ke.value.speedUp),1)])):_("",!0),re.value?_("",!0):(v(),V("div",{key:2,class:"progress-placeholder",onMousedown:r[4]||(r[4]=Be(()=>{},["stop"]))},[k("div",$o,[k("div",Mo,[X(Pe(ln),{"model-value":At.value,min:0,max:Ot.value,interval:ot.value,width:"100%",height:"1px",tooltip:"none",disabled:se.value||!de.value,onDragStart:an,onDragEnd:on,onChange:rn},null,8,["model-value","max","interval","disabled"]),k("div",Bo,[fe.value&&de.value?(v(),V("div",{key:0,class:xe(["go-live-button",{"is-live":fe.value.live}]),onClick:ft}," LIVE ",2)):_("",!0)])]),k("div",No,[k("div",{class:xe(["progress-time",{"text-disabled":se.value||!de.value}])},H(Me(e.value)),3),k("div",{class:xe(["progress-duration",{"text-disabled":se.value||!de.value}])},H(Me(t.value)),3)])])],32)),k("div",{class:"buttons-row buttons-row-centered buttons-row-first",onMousedown:r[11]||(r[11]=Be(()=>{},["stop"]))},[!Ae.value&&!se.value&&!re.value?(v(),R(Z,{key:0,onClick:r[5]||(r[5]=K=>_n()),icon:"mdi-music-note",disabled:!xt.value||!de.value},null,8,["disabled"])):_("",!0),!Ae.value&&!se.value&&!re.value&&st.value&&de.value?(v(),R(Z,{key:1,onClick:r[6]||(r[6]=K=>Pn()),icon:"mdi-subtitles"})):_("",!0),!se.value&&!re.value?(v(),R(Z,{key:2,icon:"mdi-stop",onClick:r[7]||(r[7]=K=>vt())})):_("",!0),re.value&&je.value?(v(),R(Z,{key:3,onClick:r[8]||(r[8]=K=>Fe()),icon:"mdi-stop"})):_("",!0),!Ae.value&&!se.value&&!re.value?(v(),R(Z,{key:4,disabled:!de.value||!Pt.value&&!De.value,onClick:r[9]||(r[9]=K=>Qe()),icon:"mdi-aspect-ratio"},null,8,["disabled"])):_("",!0),F.value?(v(),R(Z,{key:5,disabled:!de.value,onClick:r[10]||(r[10]=K=>Qt()),icon:"mdi-headphones"},null,8,["disabled"])):_("",!0)],32),Oe.value?(v(),V("div",{key:3,class:"buttons-row buttons-row-centered",onMousedown:r[15]||(r[15]=Be(()=>{},["stop"]))},[X(Z,{onClick:r[12]||(r[12]=K=>Je()),disabled:!it.value,icon:"mdi-skip-previous"},null,8,["disabled"]),X(Z,{onClick:r[13]||(r[13]=K=>It()),icon:"mdi-playlist-play"}),X(Z,{onClick:r[14]||(r[14]=K=>Re()),disabled:!at.value,icon:"mdi-skip-next"},null,8,["disabled"])],32)):_("",!0)])),c.value&&!C.value?(v(),V("div",Lo,[me.value?(v(),R(Z,{key:0,onClick:r[16]||(r[16]=K=>et(-10)),icon:"mdi-rewind-10",type:"small",withBackground:!z.value},null,8,["withBackground"])):_("",!0),k("div",jo,[!se.value&&!re.value&&!le.value?(v(),R(Z,{key:0,onClick:O,icon:$e.value?"mdi-pause":"mdi-play",type:"big",withBackground:!z.value},null,8,["icon","withBackground"])):_("",!0)]),me.value?(v(),R(Z,{key:1,onClick:r[17]||(r[17]=K=>et(10)),icon:"mdi-fast-forward-10",type:"small",withBackground:!z.value},null,8,["withBackground"])):_("",!0)])):_("",!0),c.value?(v(),V("div",zo,[C.value?(v(),V("div",Fo,[Uo,k("div",Ho,[Oe.value?Te((v(),R(Z,{key:0,onClick:r[18]||(r[18]=K=>Je()),disabled:!it.value,icon:"mdi-skip-previous"},null,8,["disabled"])),[[Ee,{id:"playlist-prev",enabled:!M.value}]]):_("",!0),Oe.value?Te((v(),R(Z,{key:1,onClick:r[19]||(r[19]=K=>It()),icon:"mdi-playlist-play"},null,512)),[[Ee,{id:"playlist-show",enabled:!M.value}]]):_("",!0),Oe.value?Te((v(),R(Z,{key:2,onClick:r[20]||(r[20]=K=>Re()),disabled:!at.value,icon:"mdi-skip-next"},null,8,["disabled"])),[[Ee,{id:"playlist-next",enabled:!M.value}]]):_("",!0),!Ae.value&&!se.value&&!re.value&&st.value&&de.value?Te((v(),R(Z,{key:3,onClick:r[21]||(r[21]=K=>nn()),icon:Ne.value<0?"mdi-subtitles-outline":"mdi-subtitles"},null,8,["icon"])),[[Ee,{id:"toggle-subtitles",enabled:!M.value}]]):_("",!0),!Ae.value&&!se.value&&!re.value?Te((v(),R(Z,{key:4,disabled:!De.value||!de.value,onClick:r[22]||(r[22]=K=>Qe()),icon:"mdi-aspect-ratio"},null,8,["disabled"])),[[Ee,{id:"resize-video",enabled:!M.value}]]):_("",!0),!se.value&&he.value&&de.value?Te((v(),R(Z,{key:5,onClick:r[23]||(r[23]=K=>Sn()),icon:"mdi-cog"},null,512)),[[Ee,{id:"menu",enabled:!M.value}]]):_("",!0)])])):_("",!0),re.value?_("",!0):(v(),V("div",Go,[C.value?_("",!0):(v(),V("div",qo,[k("div",Wo,H(Me(e.value)),1),Ko,k("div",Xo,H(Me(t.value)),1)])),k("div",Yo,[Te((v(),R(He,{"model-value":At.value,"track-size":"2","thumb-size":"16",color:"white",min:"0",max:Ze.value,disabled:se.value||!de.value,step:ot.value,key:m.value,onStart:an,onEnd:on,onBlur:Dn,"onUpdate:modelValue":rn},null,8,["model-value","max","disabled","step"])),[[Ee,{id:"progress-slider",enabled:!M.value,focusElementSelector:".v-slider__thumb-container",onclick:Cn}]]),k("div",Zo,[fe.value?(v(),V("div",{key:0,class:xe(["go-live-button",{"is-live":fe.value.live}]),onClick:ft}," LIVE ",2)):_("",!0)])]),C.value?(v(),V("div",Jo,[k("div",Qo,H(Me(e.value)),1),k("div",er,H(Me(t.value)),1)])):_("",!0)])),C.value?_("",!0):(v(),V("div",tr,[k("div",nr,[!se.value&&!re.value?(v(),R(Z,{key:0,icon:"mdi-stop",onClick:r[24]||(r[24]=K=>vt())})):_("",!0),Oe.value?(v(),R(Z,{key:1,onClick:r[25]||(r[25]=K=>Je()),disabled:!it.value,icon:"mdi-skip-previous"},null,8,["disabled"])):_("",!0),Oe.value?(v(),R(Z,{key:2,onClick:r[26]||(r[26]=K=>It()),icon:"mdi-playlist-play"})):_("",!0),Oe.value?(v(),R(Z,{key:3,onClick:r[27]||(r[27]=K=>Re()),disabled:!at.value,icon:"mdi-skip-next"},null,8,["disabled"])):_("",!0),!Ae.value&&!se.value&&!re.value&&st.value&&de.value?(v(),R(Z,{key:4,onClick:r[28]||(r[28]=K=>nn()),icon:Ne.value<0?"mdi-subtitles-outline":"mdi-subtitles"},null,8,["icon"])):_("",!0),!Ae.value&&!se.value&&!re.value?(v(),R(Z,{key:5,disabled:!De.value||!de.value,onClick:r[29]||(r[29]=K=>Qe()),icon:"mdi-aspect-ratio"},null,8,["disabled"])):_("",!0),De.value&&!se.value&&!re.value?(v(),R(Z,{key:6,onClick:r[30]||(r[30]=K=>Qt()),disabled:!de.value,icon:"mdi-headphones"},null,8,["disabled"])):_("",!0)]),k("div",sr,[je.value?(v(),V("div",ar,[k("div",ir,"Helping: "+H(ke.value.peers),1),k("div",or,"DL: "+H(ke.value.speedDown),1),k("div",rr,"UL: "+H(ke.value.speedUp),1)])):_("",!0)])]))])):_("",!0),_("",!0)]),_:1})):_("",!0),X(bt,null,{default:q(()=>[te.value.visible&&te.value.type=="list-selector"?(v(),R(Mi,{key:0,title:a.$t(te.value.title),items:te.value.items,selectedItem:te.value.selectedItem,rounded:"",onItemSelected:te.value.onselected,onCancel:Ue},null,8,["title","items","selectedItem","onItemSelected"])):_("",!0)]),_:1}),X(bt,null,{default:q(()=>{var K;return[te.value.visible&&te.value.type=="player-menu"?(v(),R(lo,{key:0,isTv:C.value,animationDuration:100,playbackSpeed:dt.value,audioTracks:nt.value,selectedAudioTrack:ee.value,spuTracks:qe.value,selectedSpuTrack:Ne.value,streams:be.value,selectedStream:(K=Xe.value)==null?void 0:K.index,onLockScreen:a.lockScreen,onCancel:Ue,onSelectAudioTrack:en,onSelectSpuTrack:tn,onSelectStream:sn,onSetRate:$n},null,8,["isTv","playbackSpeed","audioTracks","selectedAudioTrack","spuTracks","selectedSpuTrack","streams","selectedStream","onLockScreen"])):_("",!0)]}),_:1}),X(bt,null,{default:q(()=>[te.value.visible&&te.value.type=="playlist"?(v(),R(fo,{key:0,animationDuration:100,playlist:Ve.value,isTv:C.value,onItemSelected:xn,onCancel:Ue},null,8,["playlist","isTv"])):_("",!0)]),_:1})],2)):_("",!0)}}},vr=Ie(dr,[["__scopeId","data-v-27a14eff"]]),fr={key:1,class:"connection-failed-message"},pr={key:2,class:"fill-height d-flex align-center justify-center w-100 flex-column"},mr={__name:"RemoteControl",setup(h){const d=Wt(),y=Kt(),c=f(()=>d.query.uri),T=f(()=>{var w,P;return(P=(w=y.playbackSessionState)==null?void 0:w.playerState)==null?void 0:P.playerStopped});return lt(T,w=>{console.log("player stopped: ".concat(w)),w&&window.history.back()},{immediate:!0}),tt(async()=>{await y.connect({onConnected:async()=>{console.log("connected")}})}),(w,P)=>{const u=ve("v-progress-circular"),m=ve("v-container");return v(),R(m,{class:"fill-height w-100"},{default:q(()=>[Pe(y).isConnected?(v(),R(vr,{key:0,state:Pe(y).playbackSessionState,videoPlayer:Pe(y).client,mediaUri:c.value},null,8,["state","videoPlayer","mediaUri"])):Pe(y).connectionFailed?(v(),V("div",fr,H(w.$t("websocket_connection_failed")),1)):(v(),V("div",pr,[X(u,{indeterminate:"",size:"64",width:"2"})]))]),_:1})}}},hr=Ie(mr,[["__scopeId","data-v-f1ab053c"]]),yr={key:0,class:"connection-failed-message"},gr={key:1,class:"fill-height d-flex align-center justify-center w-100 flex-column"},br={__name:"StartPlayback",setup(h){const d=Wt(),y=ai(),c=Kt(),T=new si(c.engineHost,c.enginePort,c.engineApiAccessToken);tt(async()=>{await c.connect({onConnected:async()=>{console.log("callback connected"),await w(),y.replace({name:"main",query:d.query})}})});async function w(){const P=await T.getMediaFiles(d.query.uri);await c.startPlayback({transportFileData:P.transport_file_data})}return(P,u)=>{const m=ve("v-progress-circular"),p=ve("v-container");return v(),R(p,{class:"fill-height w-100"},{default:q(()=>[Pe(c).connectionFailed?(v(),V("div",yr,H(P.$t("websocket_connection_failed")),1)):(v(),V("div",gr,[X(m,{indeterminate:"",size:"64",width:"2"})]))]),_:1})}}},kr=Ie(br,[["__scopeId","data-v-7a678e55"]]),Sr=ii({history:oi(),routes:[{path:"/",name:"main",component:hr},{path:"/play",name:"start-playback",component:kr}]}),_r=k("div",{class:"image-background-overlay"},null,-1),wr={__name:"App",setup(h){const d=Kt(),y=$(!1),c=$(0),T=$(0);function w(m){y.value=!0,c.value=m.screenX,T.value=m.screenY}function P(m){if(y.value){const p=c.value-m.screenX,i=T.value-m.screenY;c.value-=p,T.value-=i,ci(-p,-i)}}function u(){y.value=!1}return tt(async()=>{try{await ri(),li(420,720)}catch(m){console.error("Failed to resize window: ".concat(m))}}),(m,p)=>{const i=ve("v-btn"),g=ve("v-snackbar"),N=ve("v-main"),S=ve("v-app");return v(),R(S,{class:"image-background"},{default:q(()=>[_r,X(N,{onMousedown:w,onMousemove:P,onMouseup:u,onMouseleave:u},{default:q(()=>[X(Pe(ui)),X(g,{timeout:"-1",modelValue:Pe(d).toast.visible,"onUpdate:modelValue":p[1]||(p[1]=D=>Pe(d).toast.visible=D)},{actions:q(()=>[X(i,{icon:"mdi-close",onClick:p[0]||(p[0]=D=>Pe(d).toast.visible=!1)})]),default:q(()=>[we(H(Pe(d).toast.text)+" ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1})}}},Zt=yn(wr);Zt.use(Sr);di(Zt);Zt.mount("#app");export{Pr as __vite_legacy_guard};
